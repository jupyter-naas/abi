# NEXUS API Configuration

# Environment: local, cloudflare, staging
NEXUS_ENV=local
DEBUG=true

# Database (PostgreSQL + Apache AGE)
DATABASE_URL=postgresql+asyncpg://nexus:nexus@localhost:5432/nexus

# Redis
REDIS_URL=redis://localhost:6379/0

# Authentication
SECRET_KEY=change-me-in-production-use-a-long-random-string

# CORS - use one of:
#   CORS_ORIGINS_STR (comma-separated):  http://localhost:3000,http://127.0.0.1:3000
#   CORS_ORIGINS (JSON array):          ["http://localhost:3000","http://127.0.0.1:3000"]
# In development, localhost:3000 is always allowed.
CORS_ORIGINS_STR=http://localhost:3000,http://127.0.0.1:3000

# ABI Engine
ABI_API_URL=http://localhost:8001
ABI_API_KEY=

# OpenAI (for embeddings)
OPENAI_API_KEY=

# Anthropic (Claude)
ANTHROPIC_API_KEY=

# Cloudflare Workers AI
CLOUDFLARE_API_TOKEN=
CLOUDFLARE_ACCOUNT_ID=

# Local AI (Ollama)
# Opt-in autostart for local development. Set to "true" to allow the API to
# start `ollama serve` on startup and pull the default model if missing.
# Default is false and it is ignored in non-local environments.
ENABLE_OLLAMA_AUTOSTART=false

# File Storage
# STORAGE_TYPE: 'local' (default) or 's3'
STORAGE_TYPE=local
LOCAL_STORAGE_PATH=/tmp/nexus-files

# S3-Compatible Storage (only needed if STORAGE_TYPE=s3)
# Works with: MinIO (local), Cloudflare R2, AWS S3, DigitalOcean Spaces, etc.

# For MinIO (local development):
# S3_ENDPOINT=http://localhost:9000
# S3_ACCESS_KEY=minioadmin
# S3_SECRET_KEY=minioadmin

# For Cloudflare R2:
# S3_ENDPOINT=https://<account_id>.r2.cloudflarestorage.com
# S3_ACCESS_KEY=<r2_access_key_id>
# S3_SECRET_KEY=<r2_secret_access_key>

# For AWS S3:
# S3_ENDPOINT=  (leave empty for AWS)
# S3_ACCESS_KEY=<aws_access_key>
# S3_SECRET_KEY=<aws_secret_key>

S3_ENDPOINT=http://localhost:9000
S3_ACCESS_KEY=minioadmin
S3_SECRET_KEY=minioadmin
S3_BUCKET=nexus-files
S3_REGION=auto
