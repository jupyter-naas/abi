@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .
@prefix skos: <http://www.w3.org/2004/02/skos/core#> .
@prefix dc: <http://purl.org/dc/terms/> .
@prefix bfo: <http://purl.obolibrary.org/obo/> .
@prefix nexus: <http://nexus.platform/ontology/> .


# ======================================================================
# Ontology Preview Process
# BFO 7 Buckets Compliant (ISO 21383-2)
# ======================================================================

nexus:ontology_preview_process a owl:Ontology ;
    dc:title "Ontology Preview Process"@en ;
    dc:description "A process that previews an ontology file before full import, showing name, class count, property count, and first 5 items of each, allowing users to review before committing."@en ;
    dc:created "2026-02-09"^^xsd:date ;
    owl:imports <http://ontology.naas.ai/abi/BFO7Buckets> ,
                <http://nexus.platform/ontology/_shared/common_entities> .


# ======================================================================
# WHAT: Process (BFO_0000015)
# ======================================================================

nexus:OntologyPreviewProcess a owl:Class ;
    rdfs:subClassOf bfo:BFO_0000015 ;
    rdfs:label "Ontology Preview Process"@en ;
    skos:definition "A process that previews an ontology file before full import, showing name, class count, property count, and first 5 items of each, allowing users to review before committing."@en ;
    rdfs:comment "Implements: apps/api/app/api/endpoints/ontology.py:200-220 preview_ontology_file()" ;
    skos:example "1. Parse ontology file (same as import process)\n2. Count total classes and properties\n3. Slice first 5 classes and first 5 properties\n4. Return preview dict with name, counts, and sliced items"@en .

# ======================================================================
# WHO: Material Entities (BFO_0000040)
# ======================================================================

nexus:PreviewEngine a owl:Class ;
    rdfs:subClassOf bfo:BFO_0000040 ;
    rdfs:label "PreviewEngine"@en ;
    skos:definition "Parser generating summary statistics from ontology content"@en .

# ======================================================================
# WHERE: Sites (BFO_0000029)
# ======================================================================

nexus:OntologyPreviewEndpoint a owl:Class ;
    rdfs:subClassOf bfo:BFO_0000029 ;
    rdfs:label "OntologyPreviewEndpoint"@en ;
    skos:definition "API endpoint POST /api/ontology/import/preview"@en .

# ======================================================================
# WHEN: Temporal Regions (BFO_0000008)
# ======================================================================

nexus:PreviewDuration a owl:Class ;
    rdfs:subClassOf bfo:BFO_0000008 ;
    rdfs:label "PreviewDuration"@en ;
    skos:definition "Same as import: 10-500ms"@en .

# ======================================================================
# HOW WE KNOW: Information Entities (BFO_0000031)
# ======================================================================

nexus:PreviewResult a owl:Class ;
    rdfs:subClassOf bfo:BFO_0000031 ;
    rdfs:label "PreviewResult"@en ;
    skos:definition "Dict: name, classCount, propertyCount, preview (first 5 classes + 5 properties)"@en .

# ======================================================================
# HOW IT IS: Qualities (BFO_0000019)
# ======================================================================

nexus:PreviewLimit a owl:Class ;
    rdfs:subClassOf bfo:BFO_0000019 ;
    rdfs:label "PreviewLimit"@en ;
    skos:definition "Quality: shows maximum 5 items of each type as preview"@en .

# ======================================================================
# WHY: Roles (BFO_0000023)
# ======================================================================

nexus:PreviewProviderRole a owl:Class ;
    rdfs:subClassOf bfo:BFO_0000023 ;
    rdfs:label "PreviewProviderRole"@en ;
    skos:definition "Role realized when system generates ontology summary for user review"@en .

# ======================================================================
# WHY: Dispositions (BFO_0000016)
# ======================================================================

nexus:TruncationDisposition a owl:Class ;
    rdfs:subClassOf bfo:BFO_0000016 ;
    rdfs:label "TruncationDisposition"@en ;
    skos:definition "Disposition to truncate preview to first 5 items"@en .

# ======================================================================
# Process Relationships (BFO Object Properties)
# ======================================================================

nexus:ontology_preview_process_has_previewengine a owl:ObjectProperty ;
    rdfs:subPropertyOf bfo:BFO_0000057 ;
    rdfs:domain nexus:OntologyPreviewProcess ;
    rdfs:range nexus:PreviewEngine ;
    rdfs:label "OntologyPreviewProcess has participant PreviewEngine"@en .

nexus:ontology_preview_process_occurs_in a owl:ObjectProperty ;
    rdfs:subPropertyOf bfo:BFO_0000066 ;
    rdfs:domain nexus:OntologyPreviewProcess ;
    rdfs:range nexus:OntologyPreviewEndpoint ;
    rdfs:label "OntologyPreviewProcess occurs in OntologyPreviewEndpoint"@en .

nexus:ontology_preview_process_occupies a owl:ObjectProperty ;
    rdfs:subPropertyOf bfo:BFO_0000199 ;
    rdfs:domain nexus:OntologyPreviewProcess ;
    rdfs:range nexus:PreviewDuration ;
    rdfs:label "OntologyPreviewProcess occupies PreviewDuration"@en .

nexus:ontology_preview_process_realizes a owl:ObjectProperty ;
    rdfs:subPropertyOf bfo:BFO_0000055 ;
    rdfs:domain nexus:OntologyPreviewProcess ;
    rdfs:range nexus:PreviewProviderRole ;
    rdfs:label "OntologyPreviewProcess realizes PreviewProviderRole"@en .

# ======================================================================
# Data Properties
# ======================================================================

nexus:previewClassCount a owl:DatatypeProperty ;
    rdfs:label "previewClassCount"@en ;
    rdfs:range xsd:integer .

nexus:previewPropertyCount a owl:DatatypeProperty ;
    rdfs:label "previewPropertyCount"@en ;
    rdfs:range xsd:integer .
