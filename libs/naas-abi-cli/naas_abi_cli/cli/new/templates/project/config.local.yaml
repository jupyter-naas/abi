
{% raw %}

auto_publish:
  enabled: true # Enable automatic publishing of agents to workspace
  exclude_agents: [] # Agents to exclude from auto-publishing (empty list means publish all enabled agents)
  default_agent: "Abi" # Which agent to set as default in workspace

api:
  title: "ABI API"
  description: "API for ABI, your Artifical Business Intelligence"
  logo_path: "assets/logo.png"
  favicon_path: "assets/favicon.ico"
  cors_origins:
    - "http://localhost:9879"


global_config:
  ai_mode: "cloud"

modules:
  - module: naas_abi
    enabled: true
  - module: naas_abi_marketplace.ai.chatgpt
    enabled: true
    config:
      openai_api_key: "{{ secret.OPENAI_API_KEY }}"
{% endraw %}
  - module: {{ project_name_snake }}
    enabled: true

# Comment default_agent to talk to naas_abi AbiAgent by default
default_agent: "{{ project_name_snake }} {{project_name_pascal}}Agent"

{% raw %}
services:
  secret:
    secret_adapters:
      - adapter: "dotenv"
        config: {}
  object_storage:
    object_storage_adapter:
      adapter: "s3"
      config:
        bucket_name: "{{ project_name_snake }}-datastore"
        base_prefix: "datastore"
        access_key_id: "{{ secret.MINIO_ROOT_USER }}"
        secret_access_key: "{{ secret.MINIO_ROOT_PASSWORD }}"
        endpoint_url: "http://minio:9000"
  triple_store:
    triple_store_adapter:
      adapter: "oxigraph"
      config:
        oxigraph_url: "http://oxigraph:7878"
  vector_store:
    vector_store_adapter:
      adapter: "qdrant"
      config: {}
  bus:
    bus_adapter:
      adapter: "rabbitmq"
      config:
        rabbitmq_url: "amqp://abi:{{ secret.RABBITMQ_PASSWORD }}@rabbitmq:5672"
  kv:
    kv_adapter:
      adapter: "redis"
      config:
        redis_url: "redis://redis:6379"

{% endraw %}